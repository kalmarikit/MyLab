A = [
0 0 0 0 0 0 0 0 0 0;
0 0 0 0 1 1 0 0 0 0;
0 1 1 1 1 1 1 0 0 0;
0 0 0 0 1 0 1 0 1 0;
0 0 1 0 1 1 1 1 1 0;
0 0 0 0 0 1 1 1 1 0;
0 0 1 1 0 1 0 1 0 0;
0 0 1 1 0 1 0 1 0 0;
0 0 0 0 0 0 0 0 0 0;
0 0 0 0 0 0 0 0 0 0
];

S1 = [	1 1 1; 
	1 1 1; 
	1 1 1
     ];
S2 = [	0 1 0; 
	1 1 1; 
	0 1 0
     ];
S3 = [	1 1 1; 
	1 0 1; 
	1 1 1
     ];

S = S3;

% ÐÀÑØÈÐÅÍÈÅ --------------------------------------------
M = zeros(10);
for i=2:9
   for j=2:9
	if A(i,j)==1
	    M(i-1:i+1,j-1:j+1) = M(i-1:i+1,j-1:j+1) | S;
	endif
   endfor
endfor
A=M;
% --------------------------------------------------------

% ÑÓÆÅÍÈÅ ------------------------------------------------
M = zeros(10);
for i=2:9
   for j=2:9
	B  = A(i-1:i+1,j-1:j+1);
	B1 = B & S;
	if all(all(B1==S))
	    M(i,j) = 1;
	endif
   endfor
endfor
A=M;
% --------------------------------------------------------

A(2:9,2:9)
/////=====
